<%
// Пример вызова в шаблоне (EJS):
//
// <\%- include('src/ejs/components/postCard.ejs', { 
//	postCard_component: {
//		this: {
//			parent: 'parentClass',
//			block: 'childBlockClass',
//			class: ['childClass'],
//			tag: 'div',
//			style: ['customStyle'],
//			dataAttribute: ['customDataAttributes'], 
//		}
//	}
//	}) %>
%>
<%
	if(typeof postCard_component === 'undefined' || !postCard_component) {
		return
	}

	var {thisClass, blockClass, thisTag, thisStyles, thisDataAttributes} = externe.setupEJSComponent({...postCard_component, componentName: 'postCard'})

	var textSizes = ['12', '14', '18', '20', '24']
	var textClass = `${blockClass}__text text`
	
	if(typeof postCard_component.text.size !== 'undefined' && postCard_component.text.size) {
		if(textSizes.includes(postCard_component.text.size)) {
			textClass += ` text--size-${postCard_component.text.size}`;
		}
	}
%>

<<%=thisTag%> <%-thisDataAttributes%> class='<%=thisClass%>' <%-thisStyles%>>
	<a href="<%=postCard_component.image.link%>" class="<%=blockClass%>__link-image">
		<%- include('externe/components/Image/Image.ejs', {
			image_component: {
				this: {
					class: `${blockClass}__noise`
				},
				img: {
					src: '/media/image/works/Noise.png',
				}
			}
		}) %>
		<%- include('src/ejs/components/icon.ejs', {
			icon_component: {
				block: blockClass,
				name: 'ph_arrow-up-right-light',
				size: '38',
				rounded: true
			}
		}) %>
		<%- include('externe/components/Image/Image.ejs', {
			image_component: postCard_component.image.image_component
		}) %>
	</a>
	<div class="<%=blockClass%>__body">
		<time datetime="<%=postCard_component.date.attr%>" class="<%=blockClass%>__date">
			<%=postCard_component.date.label%>
		</time>
		<<%=postCard_component.title.tag%> class="<%=blockClass%>__title">
			<%=postCard_component.title.label%>
		</<%=postCard_component.title.tag%>>
		<div class="<%=textClass%>">
			<% for(const text of postCard_component.text.label) { %>
				<p>
					<%=text%>
				</p>
			<% } %>
		</div>
	</div>
	<a href="<%=postCard_component.tag.link%>" class="<%=blockClass%>__category">
		<%=postCard_component.tag.label%>
	</a>
</<%=thisTag%>>